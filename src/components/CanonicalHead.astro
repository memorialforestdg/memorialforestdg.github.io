---
// Conditionally put canonical link in the head
// Relies on PUBLIC_CANNONICAL in .env or Github Secrets & Variables/Actions/Configure: Environment variables (non sensitive)
import {PUBLIC_CANNONICAL} from 'astro:env/server'
const canonical = PUBLIC_CANNONICAL + Astro.url.pathname
---

<>
  {
    import.meta.env.BASE_URL === PUBLIC_CANNONICAL && (
      <>
        <!-- Canonical Link -->
        <link rel="canonical" href={canonical} />
        <meta property="og:url" content={canonical} />
      </>
    )
  }
</>
