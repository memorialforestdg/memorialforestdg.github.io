---
// Conditionally put canonical link in the head
// Relies on PUBLIC_CANNONICAL set in both .env for dev, and in .github/workflows/astro.yml for deploy.

import {PUBLIC_CANONICAL} from 'astro:env/server'
const canonical = PUBLIC_CANONICAL + Astro.url.pathname
---

<>
  {
    import.meta.env?.SITE === PUBLIC_CANONICAL && (
      <>
        <!-- Canonical Link -->
        <link rel="canonical" href={canonical} />
        <meta property="og:url" content={canonical} />
      </>
    )
  }
</>
