---
import BaseLayout from './BaseLayout.astro'
const {frontmatter} = Astro.props
const {pageTitle, bannerImage, bannerAlt} = frontmatter

// https://markjames.dev/blog/dynamically-importing-images-astro
const images = import.meta.glob(
  '../images/**/*.{png,PNG,jpg,JPG,jpeg,svg,webp,avif}'
)
// Assuming `images[bannerImage]()` returns a module with an ImageMetadata as its default export.
const bannerModule = images[bannerImage]
  ? await images[bannerImage]()
  : (null as any)
// Assuming the default object is what you're after, but need to satisfy TypeScript about its existence.
const BannerImage: ImageMetadata =
  'default' in bannerModule ? bannerModule.default : null
---

<BaseLayout pageTitle={pageTitle} bannerImage={BannerImage}>
  <main id="main ">
    <div class="container full-width">
      <div class="markdown-content measure-3 pt-4 dropcap">
        <slot />
      </div>
    </div>
  </main>
</BaseLayout>
